<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFD+FEM</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <a href="index.html">Home</a>
    <h1>Getting into CFD+FEM!</h1>
    
    <p>
        If you're considering employing me or found this page exploring, this should be a sort of blog exploring my interest in CFD and FEM, with FreeCAD integrated CFD/FEM and ANSYS. I'm also very excited to be beginning my usage of CAD
        software, using FreeCAD because open source rules:), but I will likely look at using SolidWorks very soon. Feel free to scroll to the bottom and see the humble beginnings I don't plan on removing anything to make myself look better.
    </p>

    <h2>22/08/2025</h2>
    <h3>Module 5 Completed</h3>

    <img src="images/ansys/module5_complete.png" width="450" height="95">

    <p>
            On FreeCAD, I used the integrated CFD software that uses OpenFOAM to run a CFD simulation of an aerofoil. I've come full circle to running a much better simulation using ANSYS Fluent, using a k-epsilon turbulence model as the
            Reynold's number was ~6 million. The simulation uses a better mesh setup, a better model, better analysis of velocity, pressure, turbulence, lift, drag etc. Hopefull the following pictures, results and validation demonstrate a correctly set-up and
            analysed simulation.
    </p>

    <h3>Geometry and Mesh</h3>

    <img src="images/ansys/aerofoil_expected_trends.png" width="630" height="300">
    <img src="images/ansys/aerofoil_mesh.png" width="700" height="450">

    <p>
        Hand calculations indicate a lift coefficient of 1.1, so we'll see if the simulation matches this result. A mesh of the NACA 0012 aerofoil was made with two spheres of influence to refine the mesh, and a much finer mesh at the boundary
        layer of the aerofoil to capture the viscous boundary layer flow.
    </p>

    <h3>Set-Up and Results</h3>

    <p>
        The aerofoil experienced a 10 degree upwards airflow at 51.45 m/s. Simulation was ran until residuals < 1e-6 however k reached 1e-5 as it would take a much longer time to reach 1e-6.  
    </p>

    <img src="images/ansys/velocity_contours.png" width="750" height="450">
    <img src="images/ansys/vector_field_pressure_contour.png" width="750" height="450">
    <img src="images/ansys/tke_field.png" width="750" height="450">
    <img src="images/ansys/velocity_streamlines.png" width="750" height="450">

    <p>
        From the graphs we can see the expected results indicated at the beginning of regions of high and low, velocity and pressure. The velocity vector field graph indicated no backflow of air which is a good indication nothing strange
        is happening at the boundary of the aerofoil.
    </p>

    <h3>Validation to Experimental Data</h3>

    <img src="images/ansys/ladson_data.png" width="504" height="174">

    <p>
        This simulation produced C_l = 1.063 and C_p = 0.017, which is very close to the measured values in Ladson (1988) for the aerofoil shape at a very similar attack angle. To validate the results further NASA data on the
        pressure coefficient from the leading edge to the trailing edge was compared to simulated values. These curves overlap very nicely, indicating our simulation was an accurate representation of real physics.
    </p>

    <img src="images/ansys/pressure_coefficient_experimental_data.png" width="750" height="450">

    <h3>Improvements</h3>

    <p>
        To improve the simulation, it might be better to use another turbulence model such as SST k-omega and increase the resolution of the mesh specifically near the boundary layer as this could improve the value of the coefficient of drag.
    </p>

    <h2>21/08/2025</h2>
    <h3>Module 4 Completed</h3>

    <img src="images/ansys/total_course_results.png" width="430" height="475">
    <img src="images/ansys/module_4_results.png" width="450" height="95">

    <p>
        This module was packed with learning, through the big ideas of CFD to the usage of CFD for numerical analysis of pipe and channel flow, a lot was covered. I think one of my favourite results was the comparison between Fluent's pipe flow results
        and the analytical solution of pipe flow which i'll attach below. The methods of analysing the fluid flow were revealing, and I got a grasp of using residuals, mass imbalances, mesh improvements, lower residual tolerances etc, to verify that the simulation 
        was set-up correctly. There are 2 more modules after this which are very exciting, my first experience with turbulent flow, and the combination of FEA and CFD in one simulation which should be fantastic.
    </p>

    <p>
        Below we have the velocity contour plot of pipe flow(just the upper half of a pipe as its axisymmetric), the drag coefficient over the iterations and the residuals.
    </p>
    
    <img src="images/ansys/laminar_pipe_flow.png" width="550" height="187">
    <img src="images/ansys/laminar_pipe_flow_cd.png" width="550" height="187">
    <img src="images/ansys/laminar_pipe_flow_residuals.png" width="550" height="187">

    <p>
        This simulation was taken with a regular 100 by 10 mesh of quads, and was improved to a 200 by 20 mesh of quads, the simulation iterates until residuals decrease to below 10e-6 so there is little linearisation error. The simulation was also compared
        with analytical results. 
    </p>

    <img src="images/ansys/velocity_graph_laminar_pipe_mesh_improvement.png" width="750" height="450">
    <br></br>
    <img src="images/ansys/analytical_comparison.png" width="625" height="415">
    <img src="images/ansys/analytical_results_pipe_flow.png" width="620" height="360">

    <h2>19/08/2025</h2>
    <h3>Module 3 Completed</h3>

    <p>
        The rocket flange on the Apollo 8 was modelled and simulated to investigate if the use of the rocket would create any issues in the clamping of the mid and lower flange, including dangerous tensile stresses or fuel leakage through gaps.
        I'm enamoured by how great this course is, this module specifically was taken through by an aerospace engineer at SpaceX and he described the thought processes he uses when analysing stresses in models and how he sets up boundary conditions.
    </p>

    <img src="images/ansys/flange_deformation.gif" width="430" height="275">
    <img src="images/ansys/rocket_flange.png" width="420" height="250">
    <img src="images/ansys/cross_section_flange.png" width="420" height="250">

    <p>
        Module 3 was a more complicated application of strain and stress, involving multiple forces and heat expansion on the bodies. The simulation lasts 3 seconds and different forces are applied over the 3 seconds. The bolt is pre-tensioned in
        the 1st second, pressure in the channel is added in the 2nd second and finally the effect of heat is added in the 3rd second, hence why the gif runs away as the entire 160 inch cut is lengthening.
    </p>

    <img src="images/ansys/gap_expansion (1).png" width="420" height="250">
    <img src="images/ansys/gap_expansion (2).png" width="420" height="250">
    <img src="images/ansys/stress_comparison_material_capability.png" width="420" height="250">

    <p>
        We can see in the 1st two pictures the difference in the gap size between the effect of the bolt pre-tensioning and the effect of pressure in the channel (negative/blue values greater gap magnitude). We can also see in the 3rd picture with
        all 3 forces applied the stress on the material and the small gap formed between the layers on the right hand-side. The values of compressive stress probed in the centre of the bolt and the tensile stress on the right side are acceptable
        for the types of steel designated to the bolt and flange. I'm getting more and more blown away by how incredible this software is just by being able to pretension bolts and define contact surfaces in the flange.
    </p>

    <h2>16/08/2025</h2>
    <h3>Module 2 Completed</h3>

    <img src="images/ansys/moodule_2_grades.png" width="430" height="90">

    <p>
        This module was about the stress and strain of objects under applied loads, a lot of mathematics around 3D Hooke's Law and such. There was also a lot about meshing, what makes a good mesh, skewness and other properties. The first set of images
        was from the use of the skewness metric for mesh quality, clearly showing the difference between good and bad elements. This particular mesh had an average skewness of around 0.2 which I hear is not bad.
    </p>

    <img src="images/ansys/bike_crank_skewness1 (1).png" width="430" height="450">
    <img src="images/ansys/bike_crank_skewness1 (2).png" width="430" height="450">

    <p>
        The results of the deformation and stress are intuitive too, greater deformation further along the crank, and a compression stress on one side of the crank and a tensile stress on the other of roughly the same magnitude.
    </p>

    <img src="images/ansys/bike_crank_normal_stress_x.png" width="485" height="310">

    <h2>13/08/2025</h2>
    <h3>Feeling Silly</h3>
    <p>
        For my general physics project i programmed a 3d heat conduction through a cylinder to model marshmallow roasting, I can't believe I didn't just use ANSYS to do this. I really hope the gif displays correctly but this is so cool.
        This is a 2D plane, where the bottom edge is at a constant 1 degrees celsius, the right edge has a Bi of 5 and the other edges are insulated. The mesh is 8*4=32 elements with quadratic nodes giving 121 nodes. The bottom and right
        edge are probed for heat flow and bottom is 1.67W and right is -1.67W so energy is conserved in aggregate.
    </p>

    <img src="images/ansys/2d_conduction.gif" width="814" height="338">
    <img src="images/ansys/2d_conduction_vector.gif" width="814" height="338">
    <img src="images/ansys/2d_conduction_y=1.png" width="850" height="550">

    <h3>Module 1 Complete!</h3>
    <p>
        Wrapped up module 1 completing the independent 2D conduction case study similar to the taught part.
    </p>

    <img src="images/ansys/module_1_grades.png" width="976" height="179">

    <h2>12/08/2025</h2>
    <h3>A Hands-on Introduction to Engineering Simulations</h3>
    <p>
        Thanks to a free online course from Cornell on edX, I'm getting a thorough walkthrough of the mathematics involved in discretizing a mathematical model of a physics or engineering problem. Not only that, but
        as the course progresses the theory behind CFD and FEM are taught in great detail with case studies in ANSYS which i'm very keen to try as I believe it has GPU acceleration (FreeCAD is painfully slow). The final
        case study involves directly relating a CFD simulation into FEM analysis which was my original goal of simulating a hydroturbine rotor to theorise the power output for a given flow. This is all very
        exciting and I'm incredibly grateful the internet makes learning like this so easy. 
    </p>

    <img src="images/cad/course_modules.png" width="500" height="450">

    <h3>Airbus Plane in FreeCAD</h3>
    <p>
        I've used FreeCAD to develop a model of an Airbus A-340-600 to perform simulations on. I've learnt a lot regarding meshing a CAD model with a lot of trial and error, I'll attach a few images of attempts with some thoughts.
        I've been a bit unsuccessful in getting a clean simulation of the plane's airflow, unable to show the results I'd like in ParaView.
    </p>

    <img src="images/cad/airbus_model.png" width="800" height="450">
    <img src="images/cad/airbus.png" width="538" height="824"> 
    <img src="images/cad/airbus_velocity_field.png" width="800" height="450">

    <p>
        I was very happy with the model I created, but for whatever reason I was unable to figure out, when fusing the wings to the main body of the plane the outside surface became irregular and unsmooth on the body, creating an angular mesh that produced
        faulty results. Also, on closer examination of the mesh, I realised there was not enough resolution on certain surfaces, such as the leading edge of the aerofoil.
    </p>

    <img src="images/cad/airbus_model_issues.png" width="800" height="450">
    <img src="images/cad/airbus_wing_refinement.png" width="800" height="450">

    <h2>03/08/2024</h2>
    <p>
        Today I got a NACA 4412 aerofoil made and then conducted a CFD steady state, laminar flow simulation on it. OpenFOAM and paraview are really incredible, the meshing algorithms are sick, being able to refine
        the mesh so easily by just stating a boundary layer is insane. Got a lot of pictures now.
    </p>

    <img src="images/cad/aerofoil_mesh_preupgrade.png" width="800" height="450">
    <img src="images/cad/aerofoil_mesh_refined.png" width="800" height="450">

    <p>
        The results are so cool, showing the increased velocity, decreased pressure above the wing.
    </p>

    <img src="images/cad/aerofoil_paraview.png" width="800" height="450">
    <img src="images/cad/aerofoil_paraview_pressure.png" width="800" height="450">

    <p>
        I believe to indicate the simulation was reasonably successful this graph should trend to small values? Not sure, but they do, and the results are quite intuitive so I have no issues.
    </p>

    <img src="images/cad/aerofoil results.png" width="800" height="450">

    <h2>02/08/2025</h2>
    <p>
        Over the last few days, I've decided as a mini project to work on developing a bike pedal and a pedal spindle that passes through the bike. I've conducted stress simulations on these in FreeCAD's in-built stress simulations and got some really
        neat intuitive results. I have to redesign the pedal as the spindle was created after the pedal but the pedal has to accomodate the spindle.
    </p>

    <img src="images/cad/pedal_spindle_final.png" width="800" height="450">
    <img src="images/cad/pedal_spindle_reference.webp" width="800" height="450">

    <img src="images/cad/pedal_spindle_stress.png" width="800" height="450">
    <img src="images/cad/pedal_stress.png" width="800" height="450">

    <p>
        Pedal redesigned to accomodate the spindle. All that would need done is to add bearings and the pedal and the spindle would be fully designed and assembled. Tomorrow I want to try some more fluidy stuff.
    </p>

    <img src="images/cad/pedal_new_start.png" width="800" height="450">
    <img src="images/cad/pedal_without_bearings.png" width="800" height="450">


    <h2>27/07/2025</h2>
    <p>
        Using the pipe addition tool and following a path I created a SQUARE bowl, but i also made a mug with a handle, looks pretty cool.
    </p>

    <img src="images/cad/square_bowl.png" width="800" height="450">
    <img src="images/cad/handled_mug.png" width="800" height="450">

    <h2>26/07/2025</h2>
    <p>
        Following the tutorial of "MangoJelly Solutions for FreeCAD" on Youtube, today I've made a plate, circular flange and a coupler, some of the symmetry tools and revolution tools I don't think I would have quickly stumbled across so this has been
        pretty sick. Tutorial series <a href ="https://www.youtube.com/watch?v=6M6dkb0z9YQ&list=PLWuyJLVUNtc3UYXXfSglVpfWdX31F-e5S&index=11">here.</a>
    </p>

    <img src="images/cad/coupler_image.png" width="800" height="450">

    <h2>24/07/2025</h2>
    <p>
        Turns out CAD modelling isn't the easiest thing ever. At the moment I've got a aerofoil created, I'm going to try copy paste it onto a central cylinder 3-4 times and add a nose cone then try create a mesh of this rotor.
    </p>
    <img src="images/cad/hydroturbine_rotor_fin.png" width="800" height="450">
    <p>
        Turned the fin into a mesh, it looks really cool. FreeCAD seems to have some in-built FEM analysis so I'm going to try use some of it before doing the full model to see what happens.
    </p>
    <img src="images/cad/hydroturbine_rotor_fin_mesh.png" width="800" height="450">

    <h2>20/07/2025</h2>
    <p>I've just graduated recently from UoM, and my last semester had a great module "Physics of Fluids" that I got really into. It was mostly analytical solutions of the Navier-Stokes equations and applying some boundary conditions. The module had loads of
        interesting fluid dynamics phenomena like ripples in water flow when it runs down a hill that answered some of those questions I had when I was much younger walking to school. Now that I've graduated, I can definitely see myself entering the CFD space
        and who knows maybe one day I'll suddenly find myself doing CFD simulations for hydropower (dream job).
    </p>
    <p>
        I'm trying to learn how to use OpenFoam, FreeCad and Paraview one, because I want to use them in the future and two, because I'm trying to 3D print a turbine rotor and then use it to drive a washing machine motor to generate power. I want to simulate
        the rotor first however and try and generate some expected values of power and then use a multi-meter to see how far off I was. I'm doing this alongside a recent engineering graduate "Steven Hargy" who's helping with the CAD but hopefully soon, I won't
        need the help. 
    </p>
    <p>
        While I try use these softwares I'll also be going through some CFD university notes <a href ="https://users.soe.ucsc.edu/~dongwook/wp-content/uploads/2017/ams260/svn/_build/html/_downloads/ams260.pdf">Prof. Dongwook Lee's CFD Notes.</a> I done some
        sort of assessment for a CFD job today and it went awful, maybe shouldn't have wung it but it was a learning experience so whatever.
    </p>

    <br></br>
    <a href="index.html">Home</a>

</body>

</html>